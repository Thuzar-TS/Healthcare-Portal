<template>
  <div id="app">
    <div v-if="type == 'nursing'">
            <div class="col-12 col-lg-12 col-md-10 tab typelabel nav-link fixed-nav">
            <button v-scroll-to="{ el: '#element1'}" class="top-fixed-btn">
                Information
            </button>
            <button v-scroll-to="{ el: '#element2' }" class="top-fixed-btn">
                Features
            </button>
            <button v-scroll-to="{ el: '#element3' }" class="top-fixed-btn">
                Cost
            </button>
            <button v-scroll-to="{ el: '#element4' }" class="top-fixed-btn">
                Equipment
            </button>
            <button v-scroll-to="{ el: '#element5' }" class="top-fixed-btn">
                Map
            </button>
            <button v-scroll-to="{ el: '#element6' }" class="top-fixed-btn">
                Review
            </button>
            <button v-scroll-to="{ el: '#element7' }" class="top-fixed-btn">
                Job Offer
            </button>
            </div>
    
      
         <div class="row m-lr-0 ele" id="element1">            
              <div class="row list-wrap m-lr-0">
                  <div class="col-lg-3 col-md-4 col-sm-12">
                      <p><strong>Information</strong></p>
                  </div> 
              </div>

              <h5 class="header">special Features</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container">
                      <li > Short Name </li>
                  </ul>
              </div>
              <h5 class="header">Information from clinic</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container">
                      <li > Information from Clinic</li>
                  </ul>
              </div>
              <h5 class="header">Information from clinic</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container" >
                      <li > Subject </li>
                  </ul>
              </div>
              <h5 class="header">Consultation hours</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container" >
                      <li > Consultation hours</li>
                  </ul>
              </div>
              <h5 class="header">Facility</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container" >
                      <li >Facility</li>
                  </ul>
              </div>
              <h5 class="header">special Features</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container">
                      <li > Short Name </li>
                  </ul>
              </div>
              <h5 class="header">Information from clinic</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container">
                      <li > Information from Clinic</li>
                  </ul>
              </div>
              <h5 class="header">Information from clinic</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container" >
                      <li > Subject </li>
                  </ul>
              </div>
              <h5 class="header">Consultation hours</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container" >
                      <li > Consultation hours</li>
                  </ul>
              </div>
              <h5 class="header">Facility</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container" >
                      <li >Facility</li>
                  </ul>
              </div>
              <h5 class="header">special Features</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container">
                      <li > Short Name </li>
                  </ul>
              </div>
              <h5 class="header">Information from clinic</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container">
                      <li > Information from Clinic</li>
                  </ul>
              </div>
              <h5 class="header">Information from clinic</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container" >
                      <li > Subject </li>
                  </ul>
              </div>
              <h5 class="header">Consultation hours</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container" >
                      <li > Consultation hours</li>
                  </ul>
              </div>
              <h5 class="header">Facility</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container" >
                      <li >Facility</li>
                  </ul>
              </div>
          </div>
     
    

       
         <div class="row ele m-lr-0" id="element2">            
              <div class="row list-wrap m-lr-0">
                  <div class="col-lg-3 col-md-4 col-sm-12"><p><strong>Features</strong></p></div>
                
              </div>

              <h5 class="header">special Features</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container">
                      <li > Short Name </li>
                  </ul>
              </div>
              <h5 class="header">Information from clinic</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container">
                      <li > Information from Clinic</li>
                  </ul>
              </div>
              <h5 class="header">Information from clinic</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container" >
                      <li > Subject </li>
                  </ul>
              </div>
              <h5 class="header">Consultation hours</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container" >
                      <li > Consultation hours</li>
                  </ul>
              </div>
              <h5 class="header">Facility</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container" >
                      <li >Facility</li>
                  </ul>
              </div>
              <h5 class="header">special Features</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container">
                      <li > Short Name </li>
                  </ul>
              </div>
              <h5 class="header">Information from clinic</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container">
                      <li > Information from Clinic</li>
                  </ul>
              </div>
              <h5 class="header">Information from clinic</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container" >
                      <li > Subject </li>
                  </ul>
              </div>
              <h5 class="header">Consultation hours</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container" >
                      <li > Consultation hours</li>
                  </ul>
              </div>
              <h5 class="header">Facility</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container" >
                      <li >Facility</li>
                  </ul>
              </div>
              <h5 class="header">special Features</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container">
                      <li > Short Name </li>
                  </ul>
              </div>
              <h5 class="header">Information from clinic</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container">
                      <li > Information from Clinic</li>
                  </ul>
              </div>
              <h5 class="header">Information from clinic</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container" >
                      <li > Subject </li>
                  </ul>
              </div>
              <h5 class="header">Consultation hours</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container" >
                      <li > Consultation hours</li>
                  </ul>
              </div>
              <h5 class="header">Facility</h5>
              <div class="row m-lr-0">
                    <ul class="fac_container" >
                      <li >Facility</li>
                  </ul>
              </div>
          </div>
          <div class="row ele m-lr-0" id="element3">            
              <div class="row list-wrap m-lr-0">
                  <div class="col-lg-3 col-md-4 col-sm-12"><p><strong>Cost</strong></p></div>                
              </div>
              <h5 class="header">cost</h5>              
          </div>

          <div class="row ele m-lr-0" id="element4">            
             <div class="row" >
                        <div class="col-md-12">
                         <h2 align="center"> Facility </h2>

                        </div>
                        <div v-for="nus in nusfacilities" :key="nus.id" class="col-md-12 " >
                             <table border="1" class="table">
                                <tbody>
                                    <tr>
                                    <td> Business entity</td>
                                    <td>{{nus.business_entity}}</td>
                                </tr>
                                <tr>
                                    <td>Date of establishment</td>
                                    <td>{{nus.date_of_establishment}}</td>
                                </tr>
                                  <tr>
                                    <td> Land rights form </td>
                                    <td>{{nus.land_right_form}}</td>
                                </tr>
                                <tr>
                                    <td>Building rights form</td>
                                    <td>{{nus.building_right_form}}</td>
                                </tr>
                                <tr>
                                    <td>Site area</td>
                                    <td>{{nus.site_area}}</td>
                                </tr>
                                <tr>
                                    <td>Total floor area</td>
                                    <td>{{nus.floor_area}}</td>
                                </tr>
                                <tr>
                                    <td>Construction</td>
                                    <td>{{nus.construction}}</td>
                                </tr>
                                <tr>
                                    <td>Capacity</td>
                                    <td>{{nus.capacity}}</td>
                                </tr>
                                <tr>
                                    <td>Total number of rooms / units </td>
                                    <td>{{nus.num_rooms}}</td>
                                </tr>
                                <tr>
                                    <td>Right of residence form </td>
                                    <td>{{nus.residence_form}}</td>
                                </tr>
                                <tr>
                                    <td>Type </td>
                                    <td>{{nus.fac_type}}</td>
                                </tr>
                                <tr>
                                    <td>Occupancy conditions</td>
                                    <td>{{nus.occupancy_condition}}</td>
                                </tr>
                                <tr>
                                    <td>Room division, floor plan, etc </td>
                                    <td>{{nus.room_floor}}</td>
                                </tr>
                                 <tr>
                                    <td> Living room facilities</td>
                                    <td>{{nus.living_room_facilities}}</td>
                                </tr>
                                <tr>
                                    <td>Common facilities / equipment </td>
                                    <td>{{nus.equipment}}</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="row" >
                        <div class="col-md-12">
                         <h2 align="center"> Cooperate Medical </h2>

                        </div>
                        <div v-for="comedical in cooperate_medical" :key="comedical.id" class="col-md-12 " >
                             <table border="1" class="table">
                                <tbody>
                                    <tr>
                                        <td> Clinical Subject</td>
                                        <td>{{comedical.clinical_subject}}</td>
                                    </tr>
                                    <tr>
                                        <td>Details</td>
                                        <td>{{comedical.details}}</td>
                                    </tr>
                                </tbody>
                             </table>
                        </div>
                    </div>
                     <div class="row" >
                        <div class="col-md-12">
                         <h2 align="center"> Medical Acceptance </h2>

                        </div>
                        <div v-for="maccept in medical_acceptance" :key="maccept.id" class="col-md-12 " >
                             <table border="1" class="table">
                                <tbody>
                                    <tr>
                                        <td> Name </td>
                                        <td>{{maccept.name}}</td>
                                    </tr>

                                </tbody>
                             </table>
                        </div>
                    </div>
                     <div class="row" >
                        <div class="col-md-12">
                         <h2 align="center"> Staff </h2>

                        </div>
                        <div v-for="st in staff" :key="st.id" class="col-md-12 " >
                             <table border="1" class="table">
                                <tbody>
                                    <tr>
                                        <td> Staff     </td>
                                        <td>{{st.staff}}</td>
                                         <td> Nursing Staff     </td>
                                        <td>{{st.nursing_staff}}</td>
                                    </tr>
                                     <tr>
                                        <td> Min num of Staff     </td>
                                        <td>{{st.min_num_staff}}</td>
                                         <td> Num of Staff     </td>
                                        <td>{{st.num_staff}}</td>
                                    </tr>

                                </tbody>
                             </table>
                        </div>
                    </div>
                </div>
            
           <div class="row ele m-lr-0" id="element5">            
              <div class="row list-wrap m-lr-0"> 
                     <div class="col-lg-12 col-md-12 col-sm-12">
                        <GmapMap id="googlemap" ref="map" :center="center" :zoom="10" >
                          <GmapMarker v-for="(m, index) in markers" :key="index" :position="m.position" :clickable="true" :draggable="true" @click="center=m.position" />
                       </GmapMap>

                       <div class="row" style="padding-top:20px;" v-for="m in google" :key="m.id" >
                           <div class="col-md-2 text-left ">
                               Official Site  :
                           </div>
                           <div class="col-md-10 text-left">
                               www.google.com
                           </div>

                           <div class="col-md-2 text-left" style="padding-top:20px;" >
                               Access :
                           </div>
                           <div class="col-md-10 text-left" style="padding-top:20px;">
                              {{m.access}}
                           </div>

                           <div class="col-md-2 text-left" style="padding-top:20px;" >
                               City/Township :
                           </div>
                           <div class="col-md-10 text-left" style="padding-top:20px;">
                               {{this.address}}
                           </div>
                      </div>
                   </div>     
              </div>
             
              
          </div>
           <div class="row ele m-lr-0" id="element6">            
              <div class="row list-wrap m-lr-0">
                  <div class="col-lg-3 col-md-4 col-sm-12"><p><strong>Review</strong></p></div>
                
              </div>
              <h5 class="header">Review</h5>
              
          </div>
           <div class="ele m-lr-0" id="element7">            
              <joboffer></joboffer>

          </div>
    </div>
      <div v-if="type == 'hospital'">
      </div>
  </div>
</template>

<script>
 import joboffer from './JobOfferList.vue'
 export default { 
   
      components:{
                    joboffer
                },

  data() {
            var that = this;
            return {

                markers: [
                    { position: { lat: 0, lng: 0 } },
                ],
                center: { lat: 0, lng: 0 },
                address: '',
                google:[],
                nusfacilities:[],
                cooperate_medical:[],
                medical_acceptance:[],
                staff:[],
                hospitals:[],
                nursing_profiles:[],
                special_features:[],
                method_payment:[],
                comments:[],
                activeImage: 0,
                index: 0,
                pageNum: 0,
                type : 'hospital',
                opts: {
                    start: 0,
                    dir: 'v',
                    loop: false,
                    duration:500,
                    beforeChange: function(ele, current, next) {
                        console.log('before', current, next)
                        that.index = next;
                    },
                    afterChange: function(ele, current) {
                        that.index = current;
                        console.log('after', current)
                    }
                },
                images: [
                    {
                        id: '1',
                        big: 'images/p1.jpeg',
                        thumb: 'images/thumbs/p1.jpeg'
                    },
                    {
                        id: '2',
                        big: 'images/p2.jpeg',
                        thumb: 'images/thumbs/p2.jpeg'
                    },
                    {
                        id: '3',
                        big: 'images/p3.jpeg',
                        thumb: 'images/thumbs/p3.jpeg'
                    },
                    {
                        id: '4',
                        big: 'images/p4.jpeg',
                        thumb: 'images/thumbs/p4.jpeg'
                    }
                ],
            };
        },
    
        created(){
          
          
            if(this.type == "nursing")
            {
                this.axios.get('/api/feature/featurelist').then(response => {
                    this.special_features = response.data;
                });

                this.axios.get('/api/nusprofile/feature') .then(response => {
                    this.nursing_profiles = response.data.feature;
                });

                this.axios .get('/api/nusprofile/cost').then(response => {
                    this.method_payment = response.data.cost;

                });

                this.axios.get('/api/comments/comment').then(response => {
                    this.comments = response.data;

                });

                this.axios.get('/api/nusprofile/nusfacilities').then(response => {
                    this.nusfacilities = response.data.facility;

                });

                this.axios.get('/api/nusprofile/cooperatemedical').then(response => {
                    this.cooperate_medical = response.data.comedical;

                });

                    this.axios.get('/api/nusprofile/medicalacceptance').then(response => {
                    this.medical_acceptance = response.data.medical;

                });

                    this.axios.get('/api/nusprofile/staff').then(response => {
                    this.staff = response.data.staff;
                    

                });

                this.axios.get('/api/nusprofile/googlefornurse').then(response => {
                    this.google = response.data.nurselatlong;
                    this.markers[0]['position']['lat']  = response.data.nurselatlong[0]['latitude'];
                    this.markers[0]['position']['lng']  = response.data.nurselatlong[0]['longitude'];
                    this.center['lat'] = response.data.nurselatlong[0]['latitude'];
                    this.center['lng'] = response.data.nurselatlong[0]['longitude'];
                 
                });

                var geocoder = new google.maps.Geocoder; 
                var latlng = {lat: 19.76330000, lng: 96.07850000 };
                geocoder.geocode({'location': latlng}, function(results, status) {
                if (status === 'OK') {
                
                    if (results[1]) {
                        
                            this.address =  results[1].formatted_address
                            return this.address;
                        }
                    }
                    
                    
                })

            }
            else{

                this.axios.get('/api/nusprofile/googleforhospital').then(response => {
                    this.google = response.data.hoslatlong;
                    this.markers[0]['position']['lat']  = response.data.hoslatlong[0]['latitude'];
                    this.markers[0]['position']['lng']  = response.data.hoslatlong[0]['longitude'];
                    this.center['lat'] = response.data.hoslatlong[0]['latitude'];
                    this.center['lng'] = response.data.hoslatlong[0]['longitude'];
                  
                });
                this.axios.get('/api/feature/featurelist').then(response => {
                    this.special_features = response.data;
                });
                this.axios.get('/api/comments/comment').then(response => {
                    this.comments = response.data;

                });
                this.axios.get('/api/nusprofile/hospital').then(response => {
                    this.hospitals = response.data.hospital;
                })
            }


          },
          methods: {
              moveTo: function(index) {

                this.$refs.fullpage.$fullpage.moveTo(index, true);
            },
              nextImage() {
                var active = this.activeImage + 1;
                if(active >= this.images.length) {
                    active = 0;
                }
                this.activateImage(active);
            },

            prevImage() {
                var active = this.activeImage - 1;
                if(active < 0) {
                    active = this.images.length - 1;
                }
                this.activateImage(active);
            },
            activateImage(imageIndex) {
                this.activeImage = imageIndex;
            },
 



        },

 }

</script>


<style scoped>
.fixed-nav{
    position: fixed;
    z-index: 4;
    overflow: hidden;
    background: #fff;
    width: 65.9%;
    margin-top:-1px;
   
}
.top-fixed-btn{
  border: 1px solid #b7dad2;
  box-shadow: 0px 2px 1px rgba(70, 70, 70, 0.3);
  color: #095c5f;
  background: #b7dad2;
  width: 145px;
  cursor: pointer;
  padding: 10px;
}
.ele{
  margin-top: 27px;  
  padding-top: 60px;
}
</style>

